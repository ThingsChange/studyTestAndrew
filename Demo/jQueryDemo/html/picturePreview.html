<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>图片预览</title>
    <script src="../js/jquery-1.3.1.js"></script>
    <style>
        body{
            margin:0;
            padding:40px;
            background:#fff;
            font:80% Arial, Helvetica, sans-serif;
            color:#555;
            line-height:180%;
        }
        img{border:none;}
        ul,li{
            margin:0;
            padding:0;
        }
        li{
            list-style:none;
            float:left;
            display:inline;
            margin-right:10px;
            border:1px solid #AAAAAA;
        }

        /* tooltip */
        #tooltip{
            position:absolute;
            border:1px solid #ccc;
            background:#333;
            padding:2px;
            display:none;
            color:#fff;
        }
    </style>
</head>
<body>
    <ul>
        <li><a href="../image/1.jpg" class="tooltip" title="负能量1"><img src="../image/1_s.jpg" alt="负能量1"></a></li>
        <li><a href="../image/2.jpg" class="tooltip" title="负能量2"><img src="../image/2_s.jpg" alt="负能量2"></a></li>
        <li><a href="../image/3.jpg" class="tooltip" title="负能量3"><img src="../image/3_s.jpg" alt="负能量3"></a></li>
        <li><a href="../image/4.jpg" class="tooltip" title="负能量4"><img src="../image/4_s.jpg" alt="负能量4"></a></li>
    </ul>
    <div>
        <img id="hi" style="display: none" src="../image/5.jpg"/>
        <img id="hi2" src="../image/6.jpg"/>
    </div>
    <input id="showImg" type="button" value="点我" >
    <input id="showImg2" type="button" value="点我2" >
    <input id="showImg3" type="button" value="点我3" >
    <input id="showImg4" type="button" value="点我 slideToggle()" >
    <div id="dialog">21212
        <div id="title">31212</div>
    </div>
</body>
<script>
    $(function(){
        var x=10;
        var y=20;
        $("a.tooltip").mouseover(function(e){
            this.myTitle=this.title;
            this.title="";
            var imgTitle=this.myTitle?"<br/>"+this.myTitle:"";
            var tooltip="<div id='tooltip'><img src='"+this.href+"'alt='产品预览图'/>"+imgTitle+"</div>";
            $("body").append(tooltip);
            $("#tooltip").css({
                "top": (e.pageY+y)+"px",
                "left":(e.pageX+x)+"px"
            }).show("fast");
        }).mouseout(function(){
            this.title=this.myTitle;
            $("#tooltip").remove();
        }).mousemove(function(e){
            $("#tooltip").css({
              "top":(e.pageY+y)+"px",
              "left":(e.pageX+x)+"px"
            })
        })

        $("#showImg").toggle(function(){
            $("#hwoshui").show(3000);//从上到下  从左到右 同时增加内容的不透明度
        },function(){
            $("#hi").hide(3000);//同时减少 高度。宽度。不透明度
        });
        $("#showImg3").toggle(function(){
            $("#hi").slideDown(3000);//将display:none 的内容 由上至下延伸演示
        },function(){
            $("#hi").slideUp(3000);//反方向隐藏
        })
        $("#showImg2").toggle(function(){
            $("#hi2").fadeOut(3000);//减少透明度，直至变成dispaly:none
        },function(){
            $("#hi2").fadeIn(3000);//增加透明度
        })
        $("#showImg4").click(function(){
            $("#hi").slideToggle(3000);
        })

        //div移动
        $("#title").mousedown(function (e) { //e鼠标事件

            $("#dialog").css("cursor", "move"); //改变鼠标指针的形状

            var offset = $("#dialog").offset(); //DIV在页面的位置
            var x = e.pageX - offset.left; //获得鼠标指针离DIV元素左边界的距离
            var y = e.pageY - offset.top; //获得鼠标指针离DIV元素上边界的距离
            $(document).bind("mousemove", function (ev)//绑定鼠标的移动事件，因为光标在DIV元素外面也要有效果，所以要用doucment的事件，而不用DIV元素的事件
            {
                $("#dialog").stop(); //加上这个之后

                var _x = ev.pageX - x; //获得X轴方向移动的值
                var _y = ev.pageY - y; //获得Y轴方向移动的值

                $("#dialog").animate({ left: _x + "px", top: _y + "px" }, 10);
            });

        });

        $(document).mouseup(function () {
            $("#dialog").css("cursor", "default");
            $(this).unbind("mousemove");
        })



    })
</script>
</html>