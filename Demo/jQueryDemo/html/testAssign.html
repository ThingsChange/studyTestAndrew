<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <input type="button" value="点我" onclick="count()">
</body>
<script>
    if (!Object.assignObj) {
        Object.defineProperty(Object, "assignObj", {
            enumerable: false,
            configurable: true,
            writable: true,
            value: function(target, firstSource) {
                "use strict";
                if (target === undefined || target === null)
                    throw new TypeError("Cannot convert first argument to object");
                var to = Object(target);
                for (var i = 1; i < arguments.length; i++) {
                    var nextSource = arguments[i];
                    if (nextSource === undefined || nextSource === null) continue;
                    var keysArray = Object.keys(Object(nextSource));
                    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {
                        var nextKey = keysArray[nextIndex];
                        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);
                        var flag=to.hasOwnProperty(nextKey);
                        if (desc !== undefined && desc.enumerable)
                            if(flag){
                                to[nextKey] += nextSource[nextKey];
                            }else{
                                to[nextKey] = nextSource[nextKey];
                            }

                    }
                }
                return to;
            }
        });
    }
    if (!Object.minusObj) {
        Object.defineProperty(Object, "minusObj", {
            enumerable: false,
            configurable: true,
            writable: true,
            value: function(target, firstSource) {
                "use strict";
                if (target === undefined || target === null)
                    throw new TypeError("Cannot convert first argument to objZZect");
                var to = Object(target);
                for (var i = 1; i < arguments.length; i++) {
                    var nextSource = arguments[i];
                    if (nextSource === undefined || nextSource === null) continue;
                    var keysArray = Object.keys(Object(nextSource));
                    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {
                        var nextKey = keysArray[nextIndex];
                        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);
                        var flag=to.hasOwnProperty(nextKey);
                        if (desc !== undefined && desc.enumerable)
                            if(flag){
                                to[nextKey] -= nextSource[nextKey];
                                if(!to[nextKey]){
                                    var x=nextKey;
                                   var x= delete to[nextKey.toString()];
                                }

                            }else{
                                to[nextKey] = -nextSource[nextKey];
                            }

                    }
                }
                return to;
            }
        });
    }
    function count(){
        var o1 = { a: 1 };
        var o2 = { b: 2 };
        var o3 = { c: 3 };
        var o4 = { a: 'a' };
        var str={a:1,b:2,c:3};
        var str2={a:1,d:4,c:2}
        var obj = Object.minusObj(str, str2);
        console.log(obj);
//        var obj = Object.assignObj(o1, o2, o3,o4);
//        console.log(obj); // { a: 1, b: 2, c: 3 }
//        console.log(o1);  // { a: 1, b: 2, c: 3 }, 注意目标对象自身也会改变。
    }
</script>
</html>